# 딥러닝 기반 CMM 지능 측정 방법 및 시스템

## 논문의 핵심 내용 요약
- 본 연구는 생산 라인에서 좌표 측정 기계(CMM)를 사용할 때 필요한 광범위한 수동 개입 및 관리를 줄이기 위한 딥러닝 기반의 지능 측정 방법 및 시스템을 제안합니다. 이 시스템은 비전 센서와 트리거 프로브를 결합하고, **YOLO 알고리즘을 활용하여 구성 요소의 전형적 특징을 지능적으로 탐지**합니다. 추가로, 이미지 역시 관점 변환을 기반으로 한 이미지 매칭 알고리즘과 측정 순서 최적화를 위한 개미 군집 알고리즘을 개발하였습니다. 실험 결과는 이 방법과 시스템이 전형적 특징의 지능적 측정에 효과적으로 구현될 수 있음을 보여줍니다.

## 1. CMM이란?
- CMM은 제조 정밀도 검사의 핵심 부분으로, 기계 부품의 중요 특징을 정밀하게 측정하는 데 사용되는 가장 널리 사용되는 측정 도구입니다. 그러나 수동 프로그래밍 방식은 CMM의 자동화된 생산 통합을 방해합니다. 따라서, CMM이 측정 과정에서 지능적 결정을 내릴 수 있도록 하고, 수동 개입 및 관리를 최소화하는 연구가 시급합니다.

## 2. 문제 상황과 자세한 서술
- CMM의 전통적 사용은 수동 프로그래밍을 필요로 하며, 이는 생산 라인의 효율성을 크게 저하시킵니다. CAD 모델과 CMM의 기계 좌표 시스템 간 정확한 정렬 없이는 정밀한 측정이 어렵고, 모든 구성 요소에 대한 정확한 CAD 모델이 항상 사용 가능한 것은 아닙니다.

## 3. 기존 연구와 한계점
- 컴퓨터 지원 공정 계획(CAPP) 기술과 CAD 모델을 사용한 구성 요소 측정 가이드 연구가 널리 진행되었습니다. 이러한 기술은 수동 작업에 대한 의존도를 줄였지만, CAD 모델과 CMM의 기계 좌표 시스템 간 정확한 정렬을 위해 상당한 수동 입력이 필요합니다. 일부 연구는 여러 센서를 CMM에 통합하여 CAD 모델에 의존하지 않는 측정 방법을 개발했으나, 이러한 시스템은 여전히 수동 입력의 필요성, 제한된 측정 정확도, 반복 측정으로 인한 비효율성을 해결하지 못했습니다.


## 4. 제안하는 방법의 단계별 설명
- 이 연구는 생산 라인에서 CMM(좌표 측정 기계)을 사용하여 일반 구성 요소의 전형적 특징(홀, 실린더, 볼, 단계 및 슬롯 포함)을 측정하기 위한 딥러닝 기반 지능 측정 방법 및 시스템을 제안합니다. 본 방법은 비전 센서와 트리거 프로브를 결합하며, You Only Look Once(YOLO) 알고리즘을 활용하여 특징의 지능적 탐지를 달성합니다. 이어서, 이미지 역시 관점 변환에 기반한 이미지 매칭 알고리즘을 설계하고, 측정 순서를 최적화하기 위해 개미 군집 알고리즘을 구현합니다.

#### 4.1. 특징 탐지 (Feature Detection)
- YOLO 알고리즘: 타겟 감지를 회귀 문제로 처리하며, 타겟의 위치와 분류 확률을 직접 예측합니다. YOLOv5 알고리즘이 사용되며, 모델 크기가 작고, 배포 비용이 낮으며, 유연성이 좋고, 탐지 속도가 빠릅니다.

#### 4.2. 이미지 매칭 (Image Matching)
- 역시 관점 변환: 카메라로 캡처된 이미지에서 투시 효과를 제거하고, 작업물의 직교 뷰를 생성하기 위해 역시 관점 변환을 사용합니다.
- 자동 타겟 포인트 탐지: 원본 이미지에서 네 개의 타겟 포인트를 자동으로 탐지하는 알고리즘 흐름을 사용합니다. 이는 구성 요소의 외곽 윤곽을 고려하여 사각형 및 비사각형 윤곽에 적용됩니다.

#### 4.3. 경로 계획 및 샘플링 전략 (Route Planning and Sampling Strategy)
- 회전체 및 비회전체 특징의 대략적 측정 경로 계획: 회전체 특징(홀, 실린더, 볼)과 비회전체 특징(슬롯, 스텝)에 대한 대략적 측정 경로를 계획합니다.
- 정밀한 샘플링 포인트 분포: 기본 매개변수를 측정한 후, 정확한 샘플링 포인트를 계산하여 프로브가 CMM의 삼축 운동을 따라 특징을 측정합니다.

## 5. 실험 결과 및 결론
- 실험은 다양한 전형적 특징을 지닌 구성 요소를 사용하여 수행되었으며, 제안된 방법과 시스템이 효과적으로 구현될 수 있음을 확인했습니다. 특히, 카메라 시야 내에서 특징이 가려지지 않을 때 측정이 100% 완료될 수 있으며, 가려짐이 발생할 때에도 특징의 불투명 영역 비율이 매칭 IoU 임계값보다 클 때 측정 정확도를 보장할 수 있습니다. 이 연구는 CAD를 필요로 하지 않으며, 지능성, 높은 효율성, 낮은 비용의 이점을 가집니다. 또한, 시스템은 다양한 유형의 CMM에 설치될 수 있으며, 향후 연구에서는 복합 유형의 특징에 대한 더 많은 지능적 측정을 개발할 계획입니다.

